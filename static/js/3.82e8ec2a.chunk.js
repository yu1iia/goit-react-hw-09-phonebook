(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[3],{109:function(t,e,n){t.exports={section:"Section_section__2xPM4"}},110:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(38);function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,c=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(i){c=!0,a=i}finally{try{r||null==u.return||u.return()}finally{if(c)throw a}}return n}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},111:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n(0);var r=n(109),c=n.n(r),a=n(37),o=n(1),u=function(t){var e=t.children;return Object(o.jsx)("section",{className:c.a.section,children:Object(o.jsx)(a.a,{children:e})})}},114:function(t,e,n){t.exports={contactList:"ContactList_contactList__3GEwA",contactItem:"ContactList_contactItem__3Svbu",button:"ContactList_button__2NpGH"}},115:function(t,e,n){t.exports={filter:"Filter_filter__1sKaE"}},116:function(t,e,n){t.exports={form:"ContactForm_form__1WE_H",button:"ContactForm_button__2dPoD"}},118:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==u(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=o(t);if(e){var c=o(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return i(this,n)}}n.r(e);var f=n(0),l=n(111),b=n(8),p=n(17),d=n.n(p),j=n(22),m=n(19),h=n.n(m),y=n(16),O={addContact:function(t){return function(){var e=Object(j.a)(d.a.mark((function e(n){var r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(y.a.addContactRequest()),e.prev=1,e.next=4,h.a.post("/contacts",t);case 4:r=e.sent,c=r.data,n(y.a.addContactSuccess(c)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(y.a.addContactError(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},deleteContact:function(t){return function(){var e=Object(j.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(y.a.deleteContactRequest()),e.prev=1,e.next=4,h.a.delete("/contacts/".concat(t));case 4:n(y.a.deleteContactSuccess(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(y.a.deleteContactError(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},fetchContacts:function(){return function(){var t=Object(j.a)(d.a.mark((function t(e){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(y.a.fetchContactRequest()),t.prev=1,t.next=4,h.a.get("/contacts");case 4:n=t.sent,r=n.data,e(y.a.fetchContactSuccess(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(y.a.fetchContactError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}},v=n(29),x=function(t){return t.contacts.filter},C=function(t){return t.contacts.items},g={getAllContacts:C,getLoading:function(t){return t.contacts.loading},getFilter:x,getVisibleContacts:Object(v.a)([C,x],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},_=n(114),w=n.n(_),S=n(48),k=n(1);function N(){var t=Object(b.b)();Object(f.useEffect)((function(){t(O.fetchContacts())}),[t]);var e=Object(b.c)(g.getLoading),n=Object(b.c)(g.getVisibleContacts);return Object(k.jsxs)("div",{children:[e&&Object(k.jsx)(S.a,{}),Object(k.jsx)("ul",{className:w.a.contactList,children:n.length?n.map((function(e){var n=e.id,r=e.name,c=e.number;return Object(k.jsxs)("li",{className:w.a.contactItem,children:[r," : ",c,Object(k.jsx)("button",{type:"button",className:w.a.button,onClick:function(){return function(e){return t(O.deleteContact(e))}(n)},children:"Delete"})]},n)})):Object(k.jsx)("li",{className:w.a.notification,children:"No contact found"})})]})}var E=n(115),L=n.n(E);function P(){var t=Object(b.b)(),e=Object(b.c)(g.getFilter);return Object(k.jsxs)("label",{className:L.a.filter,children:["Find contacts by name"," ",Object(k.jsx)("input",{type:"text",filter:e,onChange:function(e){return t(y.a.changeFilter(e.target.value))}})]})}var R=n(3),F=n(20),A=n(110),q=n(116),D=n.n(q);function I(){var t=Object(f.useState)({name:"",number:""}),e=Object(A.a)(t,2),n=e[0],r=e[1],c=Object(b.c)(g.getAllContacts),a=Object(b.b)(),o=Object(f.useCallback)((function(t){var e=t.target,c=e.name,a=e.value;r(Object(F.a)(Object(F.a)({},n),{},Object(R.a)({},c,a)))}),[n]),u=Object(f.useCallback)((function(t){if(t.preventDefault(),n.name){var e=c.find((function(t){return t.name===n.name}));e?alert("".concat(e.name," is already in contacts.")):(a(O.addContact(n)),r({name:"",number:""}))}}),[c,a,n]);return Object(k.jsxs)("form",{className:D.a.form,onSubmit:u,children:[Object(k.jsxs)("label",{children:["Name",Object(k.jsx)("input",{type:"text",name:"name",value:n.name,onChange:o,required:!0})]}),Object(k.jsxs)("label",{children:["Number",Object(k.jsx)("input",{type:"text",name:"number",value:n.number,onChange:o,required:!0})]}),Object(k.jsx)("button",{type:"submit",className:D.a.button,children:"Add contact"})]})}var T=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(i,t);var e,n,o,u=s(i);function i(){return r(this,i),u.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(l.a,{children:[Object(k.jsx)("h1",{children:"PhoneBook"}),Object(k.jsx)(I,{}),Object(k.jsx)("h2",{children:"Contacts"}),Object(k.jsx)(P,{}),Object(k.jsx)(N,{})]})})}}])&&c(e.prototype,n),o&&c(e,o),i}(f.Component);e.default=T}}]);
//# sourceMappingURL=3.82e8ec2a.chunk.js.map